{"version":3,"sources":["redux/types.js","redux/action.js","Likes.js","Title.js","SingleComment.js","Comments.js","Spin.js","App.js","redux/likesReducer.js","redux/inputReducer.js","redux/commentsReducer.js","redux/appReducer.js","redux/rootReducer.js","redux/midlleware.js","index.js"],"names":["INCREMENT","DECREMENT","INPUT_TEXT","COMMENT_CREATE","COMMENT_UPDATE","COMMENT_DELETE","COMMENTS_LOAD","LOADER_DISPLAY_ON","LOADER_DISPLAY_OFF","ERROR_DISPLAY_ON","ERROR_DISPLAY_OFF","loaderOff","type","errorOn","text","dispatch","setTimeout","errorOff","connect","state","likes","likesReducer","onIncrementLikes","onDecrementLikes","props","console","log","className","onClick","Title","useSelector","inputReducer","useDispatch","onChange","e","inputText","target","value","SingleComment","data","useState","commentText","setCommentText","id","useEffect","onSubmit","preventDefault","commentUpdate","commentDelete","hidden","Comments","textComment","setTextComment","comments","commentsReducer","a","fetch","response","json","jsonData","uniqid","commentCreate","length","map","res","Spin","spinner","appReducer","loading","color","height","width","visible","App","error","src","alt","initialState","tetxt","rootReducer","combineReducers","action","commentsNew","name","itemIndex","findIndex","nextComents","slice","badWords","store","createStore","compose","applyMiddleware","thunk","next","some","includes","window","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e6e8f51d.chunk.js","sourcesContent":["export const INCREMENT=\"INCREMENT\";\r\nexport const DECREMENT=\"DECREMENT\";\r\nexport const INPUT_TEXT=\"INPUT_TEXT\";\r\nexport const COMMENT_CREATE=\"COMMENT_CREATE\";\r\nexport const COMMENT_UPDATE=\"COMMENT_UPDATE\";\r\nexport const COMMENT_DELETE=\"COMMENT_DELETE\";\r\nexport const COMMENTS_LOAD=\"COMMENTS_LOAD\";\r\nexport const LOADER_DISPLAY_ON=\"LOADER_DISPLAY_ON\";\r\nexport const LOADER_DISPLAY_OFF=\"LOADER_DISPLAY_OFF\";\r\nexport const ERROR_DISPLAY_ON=\"ERROR_DISPLAY_ON\";\r\nexport const ERROR_DISPLAY_OFF=\"ERROR_DISPLAY_OFF\";\r\n","import { INCREMENT, DECREMENT, INPUT_TEXT, COMMENT_CREATE,  COMMENT_UPDATE, COMMENT_DELETE, COMMENTS_LOAD, LOADER_DISPLAY_ON, LOADER_DISPLAY_OFF , ERROR_DISPLAY_OFF, ERROR_DISPLAY_ON  } from \"./types\";\r\n\r\n\r\nexport  function incrementLikes() {\r\n    return {\r\n        type:INCREMENT\r\n    }\r\n}\r\n\r\nexport  function decrementlikes() {\r\n    return {\r\n        type:DECREMENT\r\n    }\r\n}\r\n\r\nexport  function inputText(text) {\r\n    return {\r\n        type:INPUT_TEXT,\r\n     text\r\n    }\r\n}\r\n\r\nexport  function commentCreate(text,id) {\r\n    return {\r\n        type:COMMENT_CREATE,\r\n     data:{text,id}\r\n    }\r\n}\r\n\r\nexport  function commentUpdate(text,id) {\r\n    return {\r\n        type:COMMENT_UPDATE,\r\n     data:{text,id}\r\n    }\r\n}\r\n\r\nexport  function commentDelete(id) {\r\n    return {\r\n        type: COMMENT_DELETE,\r\n    id\r\n    }\r\n}\r\n\r\nexport  function loaderOn() {\r\n    return {\r\n        type: LOADER_DISPLAY_ON\r\n    }\r\n}\r\n\r\n\r\nexport  function loaderOff() {\r\n    return {\r\n        type: LOADER_DISPLAY_OFF\r\n    }\r\n}\r\n\r\nexport  function errorOn(text) {\r\n    return dispatch=> {\r\n        dispatch({\r\n                type: ERROR_DISPLAY_ON,\r\n                text\r\n        });\r\n        setTimeout(()=>{\r\ndispatch(errorOff);\r\n        },2000)\r\n    }\r\n    \r\n}\r\n\r\n\r\nexport  function errorOff() {\r\n    return {\r\n        type: ERROR_DISPLAY_OFF\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\nexport  function сommentsLoad() {\r\n    return async dispatch => {\r\n        try{\r\n            dispatch (loaderOn());\r\n        const response = await fetch(\"https://jsonplaceholder.typicode.com/comments?_limit=10\");    \r\n    const jsonData= await response.json();\r\n    \r\n    setTimeout(()=>{\r\n        dispatch({\r\n            type:COMMENTS_LOAD,\r\n            data:jsonData\r\n        });\r\n        dispatch (loaderOff());\r\n    }, 1000) \r\n        }catch(err) {\r\n            dispatch(errorOn(\"Ошибка API\"))\r\n}dispatch(loaderOff());\r\n    }\r\n}","import {connect} from \"react-redux\";\r\nimport {incrementLikes, decrementlikes} from \"./redux/action\"\r\n\r\nfunction Likes (props) {\r\n    console.log(props);\r\n    return(\r\n        <div className=\"button-controls\">\r\n            <button onClick={props.onIncrementLikes}>♥{props.likes}</button>\r\n            <button onClick={props.onDecrementLikes}>Dislike</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nfunction mapStateToProps(state) {\r\n    const {likesReducer} =state;\r\n    return {\r\n        likes:likesReducer.likes\r\n    }\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch){\r\n    return{\r\n        onIncrementLikes: ()=> dispatch(incrementLikes()),\r\n        onDecrementLikes: ()=> dispatch(decrementlikes())\r\n        }\r\n    }\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps) (Likes);","import {useDispatch, useSelector} from \"react-redux\"\r\nimport {inputText} from \"./redux/action\"\r\n\r\n\r\nfunction Title(props) {\r\n    console.log(\"props title > \", props);\r\n    const text= useSelector(state=>{\r\n        const {inputReducer}=state;\r\n     return inputReducer.text\r\n    })\r\n\r\nconst dispatch=useDispatch()\r\n\r\n    const handleChange = (e) => {\r\n    // console.log(\"handle text>>\", e.target.value)\r\ndispatch(inputText(e.target.value))\r\n}\r\n\r\nreturn(\r\n    <div className=\"card-title\">\r\n        <div className=\"card-title-top\">\r\n            <input type=\"text\" onChange={handleChange}/>\r\n        </div>\r\n        <p>{text}</p>\r\n    </div>\r\n)\r\n\r\n\r\n}\r\n\r\nexport default Title;","import{useState, useEffect} from \"react\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport {commentUpdate, commentDelete} from \"./redux/action\";\r\n\r\n\r\nfunction SingleComment ({data}) {\r\n    const [commentText, setCommentText] = useState(\"\");\r\nconst {text, id} = data;\r\nconst dispatch = useDispatch()\r\n\r\n\r\n\r\nconst handleUpdate =(e)=>{\r\n    e.preventDefault();\r\ndispatch(commentUpdate(commentText, id))\r\n}\r\n\r\nconst handleDelete=(e)=> {\r\n    e.preventDefault();\r\n    dispatch(commentDelete(id));\r\n}\r\n\r\nuseEffect (()=> {\r\n    if (text) {\r\n   setCommentText(text);     \r\n    }\r\n}, [text]);\r\n\r\nconst handleInput =(e) => {\r\n   setCommentText(e.target.value); \r\n}\r\n    return (\r\n          <form onSubmit={handleUpdate} className=\"comments-item\">\r\n              <div onClick={handleDelete} className=\"comments-item-delete\">&times;</div>\r\n              <input type=\"text\" value={commentText} onChange={handleInput}/>\r\n              <input type=\"submit\" hidden/>\r\n              </form>    \r\n    )\r\n}\r\n\r\n\r\nexport default SingleComment;","import { useState, useEffect} from \"react\";\r\nimport { commentCreate, сommentsLoad } from \"./redux/action\";\r\nimport SingleComment from \"./SingleComment\";\r\nimport uniqid from \"uniqid\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\n\r\n\r\nfunction Comments (props){\r\n    const [textComment, setTextComment] = useState(\"\");\r\n    const comments = useSelector(state=> {\r\n    const {commentsReducer} = state;\r\n    return commentsReducer.comments;\r\n    });\r\n    const dispatch = useDispatch();\r\n    \r\n    \r\n    const handleInput = (e)=>{\r\n    setTextComment(e.target.value);\r\n    }\r\n\r\n    const handleSubmit=(e)=>{\r\n        e.preventDefault();\r\n    const  id = uniqid();\r\n    dispatch(commentCreate(textComment,id));\r\n    }\r\n\r\n    useEffect(()=> {\r\n        dispatch(сommentsLoad());\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"card-comments\">\r\n          <form onSubmit={handleSubmit} className=\"comments-item-create\">\r\n          <input type=\"text\" value={textComment}onChange={handleInput}/>\r\n              <input type=\"submit\" hidden/>\r\n              </form>  \r\n              {!!comments.length && comments.map(res=>{\r\n                  return <SingleComment key ={res.id} data={res}/>\r\n              })}\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default Comments;","import Loader from \"react-loader-spinner\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\n\r\nconst Spin = (props)=>{\r\n    const spinner = useSelector(state=> state.appReducer.loading)\r\n    return(\r\n        <div className=\"loader-styles\">\r\n            <Loader \r\n            type=\"TailSpin\"\r\n            color=\"#00BFFF\"\r\n            height={100}\r\n            width={100}\r\n           visible={spinner}\r\n            />\r\n        </div>\r\n    )\r\n}\r\nexport default Spin;","import { useSelector } from 'react-redux';\nimport './App.css';\nimport Likes from './Likes';\nimport Title from './Title';\nimport Comments from './Comments';\nimport Spin from './Spin';\n\n\nfunction App() {\n  const error=useSelector(state=>state.appReducer.error);\n  \n  return (\n    <div className=\"App\">\n      <div className=\"wrap\">\n        <Spin/>\n        <div className=\"card\">\n          {error &&(\n            <div className='error-message'>\n              {error}\n            </div>\n\n          )}\n          <div className=\"card-image\">\n            <img src=\"./sea.jpg\" alt=\"surfing\"/>\n           <Title/>\n          <Likes />\n          </div>\n          <Comments/>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import { INCREMENT, DECREMENT } from \"./types\"\r\n\r\n\r\n\r\nconst initialState={\r\n    likes:0\r\n}\r\n\r\n\r\nexport const likesReducer = (state =initialState, action)=> {\r\n    switch(action.type){\r\n        case INCREMENT:\r\n            return{\r\n                ...state,\r\n                likes:state.likes+1\r\n            }\r\n            case DECREMENT:\r\n            return{\r\n                ...state,\r\n                likes:state.likes-1\r\n            }\r\n            default:\r\n                return state;\r\n        }\r\n    }","import { INPUT_TEXT } from \"./types\";\r\n\r\nconst initialState={\r\n    tetxt:\"\"\r\n}\r\n\r\nexport const inputReducer=(state=initialState,action)=>{\r\nconsole.log(\"input text Reducer>\", action)\r\n\r\nswitch(action.type) {\r\n    \r\n    case INPUT_TEXT:\r\n        return {\r\n            ...state,\r\n            text:action.text\r\n        }\r\n        default:\r\n            return state;\r\n}\r\n}\r\n","import { \r\n     COMMENT_CREATE, \r\n     COMMENT_DELETE, \r\n     COMMENT_UPDATE,COMMENTS_LOAD }\r\n      from \"./types\";\r\n\r\nconst initialState={\r\n    comments: []\r\n}\r\n\r\nexport const commentsReducer=(state=initialState,action)=>{\r\nconsole.log(\"comments reducer >>>\", action)\r\n\r\n switch(action.type) {\r\n    \r\n    case COMMENT_CREATE:\r\n         return {\r\n            ...state,\r\n           comments: [...state.comments,action.data]\r\n       }\r\n\r\n       case COMMENTS_LOAD:\r\n       const commentsNew = action.data.map(res=>{\r\n           return{\r\n               text:res.name,\r\n               id:res.id\r\n           }\r\n       })    \r\n       return{\r\n               ...state,\r\n               comments: commentsNew\r\n}\r\n\r\n       case COMMENT_UPDATE:\r\n           const {data}=action;\r\n           const {comments}= state;\r\n           const itemIndex = comments.findIndex(res=> res.id===data.id);\r\n         \r\n           const nextComents = [\r\n             ...comments.slice(0, itemIndex),\r\n             data,\r\n             ...comments.slice(itemIndex + 1)\r\n         ];\r\n         \r\n           return {\r\n            ...state,\r\n            comments: nextComents\r\n        //    comments: [...state.comments,action.data]\r\n       }\r\n\r\n       case COMMENT_DELETE:\r\n        return (() => {\r\n            const {id} =action;\r\n            const {comments} = state;\r\n            const itemIndex = comments.findIndex(res=> res.id===id);\r\n         \r\n           const nextComents = [\r\n             ...comments.slice(0, itemIndex),\r\n             ...comments.slice(itemIndex + 1)\r\n         ];\r\n         return {\r\n            ...state,\r\n            comments: nextComents\r\n        //    comments: [...state.comments,action.data]\r\n       }\r\n    })();\r\n         default:\r\n            return state;\r\n }\r\n}\r\n","import { LOADER_DISPLAY_ON, LOADER_DISPLAY_OFF, ERROR_DISPLAY_OFF, ERROR_DISPLAY_ON } from \"./types\";\r\n\r\n\r\nconst initialState={\r\n    loading:\"false\",\r\n    error:null\r\n}\r\n\r\n\r\nexport const appReducer=(state=initialState,action)=>{\r\n    switch(action.type){\r\n        case LOADER_DISPLAY_ON:\r\n            return{\r\n                ...state,\r\n                loading:true\r\n            }\r\n                    case LOADER_DISPLAY_OFF:\r\n                        return{\r\n                            ...state,\r\n                            loading:false\r\n                        }\r\n\r\n\r\n                        case ERROR_DISPLAY_ON:\r\n                            return{\r\n                                ...state,\r\n                                error:action.text\r\n                            }\r\n\r\n                            case ERROR_DISPLAY_OFF:\r\n                            return{\r\n                                ...state,\r\n                                error:null\r\n                            }\r\n\r\n                        default:\r\n                            return state;\r\n                    }\r\n                }\r\n\r\n ","import { combineReducers } from \"redux\"\r\nimport { likesReducer } from \"./likesReducer\";\r\nimport { inputReducer } from \"./inputReducer\";\r\nimport {commentsReducer} from \"./commentsReducer\"\r\nimport { appReducer } from \"./appReducer\";\r\n\r\n\r\nexport const rootReducer = combineReducers ({\r\nlikesReducer,\r\ninputReducer,\r\ncommentsReducer,\r\nappReducer\r\n});","import { COMMENT_CREATE } from \"./types\"\r\nimport { errorOn } from \"./action\"\r\n\r\nconst badWords =[\"козёл\", \"осёл\"]\r\n\r\n\r\nexport function spamFilter({dispatch}) {\r\n    return function(next) {\r\n        return function(action){\r\nif (action.type===COMMENT_CREATE){\r\nconst hasBadWords = badWords.some(res=>action.data.text.includes(res));        \r\nif (hasBadWords){\r\nreturn dispatch(errorOn(\"Уважайте людей\"))\r\n}\r\n}\r\n        return next(action)\r\n    }\r\n}\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { createStore, compose, applyMiddleware } from \"redux\";\nimport { rootReducer } from './redux/rootReducer';\nimport { Provider } from 'react-redux';\nimport thunk from 'redux-thunk';\nimport { spamFilter } from './redux/midlleware';\n\n\nconst store= createStore(rootReducer, compose(\n  applyMiddleware(\n    thunk,\n    spamFilter\n  ),\n  window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()\n))\n\nReactDOM.render(<Provider store={store}>\n  <App/>\n  </Provider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}